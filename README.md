# ğŸ¢ åŒ–å·¥å›¾é£æ§ç³»ç»Ÿ - ä¼ä¸šé£é™©æ™ºèƒ½è¯†åˆ«å¹³å°

[![Python](https://img.shields.io/badge/Python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Platform](https://img.shields.io/badge/Platform-Windows%20%7C%20Linux%20%7C%20macOS-lightgrey.svg)](README.md)
[![Status](https://img.shields.io/badge/Status-Production%20Ready-brightgreen.svg)](README.md)

> **ä¼ä¸šé£é™©æ§åˆ¶çš„æ™ºèƒ½åŒ–è§£å†³æ–¹æ¡ˆ** - åŸºäºå›¾è®ºä¸æœºå™¨å­¦ä¹ çš„å…ˆè¿›é£æ§å¹³å°ï¼Œä¸“æ³¨äºè‚¡æƒç¯è·¯ä¸äº¤æ˜“å¼‚å¸¸çš„æ™ºèƒ½è¯†åˆ«ä¸åˆ†æ

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

åŒ–å·¥å›¾é£æ§ç³»ç»Ÿæ˜¯ä¸€ä¸ªåŸºäºå›¾è®ºå’Œæœºå™¨å­¦ä¹ çš„ä¼ä¸šé£é™©æ§åˆ¶å¹³å°ï¼Œé€šè¿‡æ•´åˆä¼ä¸šè‚¡æƒä¸äº¤æ˜“æ•°æ®ï¼Œæ„å»ºå¤æ‚å…³ç³»å›¾è°±ï¼Œæ™ºèƒ½è¯†åˆ«è‚¡æƒå¾ªç¯ã€äº¤æ˜“å¼‚å¸¸ç­‰é£é™©æ¨¡å¼ã€‚ç³»ç»Ÿé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œç»“åˆè§„åˆ™å¼•æ“ä¸æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œæä¾›ä»æ•°æ®å¤„ç†åˆ°æ™ºèƒ½åˆ†æçš„å®Œæ•´è§£å†³æ–¹æ¡ˆã€‚

### ğŸŒŸ æ ¸å¿ƒç‰¹è‰²

- **ğŸ”„ å…ˆè¿›çš„ç¯è·¯æ£€æµ‹**ï¼šæ”¯æŒ3-8èŠ‚ç‚¹å¤šç§å¤æ‚ç¯è·¯æ¨¡å¼ï¼Œç²¾å‡†è¯†åˆ«è‚¡æƒå¾ªç¯
- **âš¡ è¶…é«˜æ€§èƒ½ä¼˜åŒ–**ï¼šå¤šæ ¸å¹¶è¡Œå¤„ç†ï¼Œå®ç°10-20å€æ€§èƒ½æå‡
- **ğŸ¨ ç»¼åˆç”»åƒåˆ†æ**ï¼š34ä¸ªç»´åº¦çš„æ·±åº¦ç”»åƒï¼Œæ”¯æŒäº¤æ˜“+è‚¡æƒåŒé‡è§†è§’
- **ğŸ§  æ™ºèƒ½é£é™©è¯†åˆ«**ï¼šæœºå™¨å­¦ä¹ é©±åŠ¨çš„é£é™©è¯„åˆ†ä¸å¼‚å¸¸æ£€æµ‹
- **ğŸ”§ çµæ´»ç­›é€‰ç­–ç•¥**ï¼šæ”¯æŒæ—¶é—´çª—å£ã€èŠ‚ç‚¹æ•°é‡ã€æºå¤´ç±»å‹ç­‰å¤šç»´ç­›é€‰
- **ğŸ“Š å¯è§†åŒ–åˆ†æ**ï¼šå…¨æ–¹ä½çš„ç»Ÿè®¡å›¾è¡¨ä¸é£é™©æŠ¥å‘Š
- **ğŸ–¥ï¸ è·¨å¹³å°å…¼å®¹**ï¼šæ”¯æŒWindows/Linux/macOSï¼ŒåŒå›¾è®¡ç®—å¼•æ“

## ğŸš€ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“ˆ é£é™©æ£€æµ‹èƒ½åŠ›
- **è‚¡æƒç¯è·¯æ£€æµ‹**ï¼šè¯†åˆ«3-8èŠ‚ç‚¹çš„å¤æ‚è‚¡æƒå¾ªç¯ç»“æ„
- **äº¤æ˜“å¼‚å¸¸åˆ†æ**ï¼šåŸºäºæ—¶é—´åºåˆ—çš„å¼‚å¸¸äº¤æ˜“æ¨¡å¼è¯†åˆ«
- **å…³è”æ–¹è¯†åˆ«**ï¼šå‘ç°éšè”½çš„å…³è”å…³ç³»å’Œä¸€è‡´è¡ŒåŠ¨äºº
- **èµ„é‡‘é“¾è·¯è¿½è¸ª**ï¼šè¿½è¸ªèµ„é‡‘æµå‘ï¼Œè¯†åˆ«æ´—é’±ç­‰é£é™©è¡Œä¸º

### ğŸ¨ ç»¼åˆç”»åƒç³»ç»Ÿ
- **äº¤æ˜“ç»´åº¦**ï¼š10ä¸ªæ ¸å¿ƒæŒ‡æ ‡ï¼ˆé‡‘é¢ã€é¢‘æ¬¡ã€æ—¶é—´åˆ†å¸ƒç­‰ï¼‰
- **è‚¡æƒç»´åº¦**ï¼š24ä¸ªæ·±åº¦æŒ‡æ ‡ï¼ˆé›†ä¸­åº¦ã€ç±»å‹åˆ†å¸ƒã€ç½‘ç»œä¸­å¿ƒæ€§ç­‰ï¼‰
- **é£é™©è¯„ä¼°**ï¼šåŸºäº34ä¸ªæŒ‡æ ‡çš„æ™ºèƒ½é£é™©è¯„åˆ†
- **ç”»åƒå¯è§†åŒ–**ï¼šä¸°å¯Œçš„å›¾è¡¨å±•ç¤ºä¸æŠ¥å‘Šç”Ÿæˆ

### âš¡ æ€§èƒ½ä¼˜åŒ–
- **å¤šæ ¸å¹¶è¡Œå¤„ç†**ï¼šå……åˆ†åˆ©ç”¨å¤šæ ¸CPUï¼Œå¤„ç†é€Ÿåº¦æå‡10-20å€
- **æ™ºèƒ½æ‰¹æ¬¡åˆ†é…**ï¼šæ ¹æ®æ•°æ®é‡å’Œç¡¬ä»¶è‡ªåŠ¨ä¼˜åŒ–æ‰¹æ¬¡å¤§å°
- **å†…å­˜ä¼˜åŒ–ç®¡ç†**ï¼šå¤§æ•°æ®é‡å¤„ç†çš„å†…å­˜ä¼˜åŒ–ç­–ç•¥
- **å®æ—¶è¿›åº¦ç›‘æ§**ï¼štqdmè¿›åº¦æ¡æ˜¾ç¤ºï¼Œä¾¿äºç›‘æ§é•¿æ—¶é—´ä»»åŠ¡

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ
```
ç¼–ç¨‹è¯­è¨€ï¼šPython 3.8+
å›¾è®¡ç®—å¼•æ“ï¼šNetworkX + igraph
æ•°æ®å¤„ç†ï¼šPandas + NumPy
æœºå™¨å­¦ä¹ ï¼šScikit-learn
å¯è§†åŒ–ï¼šMatplotlib + Seaborn
å¹¶è¡Œè®¡ç®—ï¼šMultiprocessing
Webæ¡†æ¶ï¼šFlask (å¯é€‰)
```

### ç³»ç»Ÿæ¶æ„å›¾
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·äº¤äº’å±‚                              â”‚
â”‚  å‘½ä»¤è¡Œç•Œé¢  â”‚  å¯è§†åŒ–æŠ¥å‘Š  â”‚  APIæ¥å£  â”‚  Webç•Œé¢        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                   åˆ†ææœåŠ¡å±‚                              â”‚
â”‚  ç¯è·¯æ£€æµ‹   â”‚  ç”»åƒåˆ†æ   â”‚  é£é™©è¯„ä¼°   â”‚  é—­ç¯ç­›é€‰        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  ç®—æ³•å¼•æ“å±‚                               â”‚
â”‚ å›¾ç®—æ³•å¼•æ“  â”‚ æœºå™¨å­¦ä¹ æ¨¡å‹ â”‚ è§„åˆ™å¼•æ“   â”‚ ç‰¹å¾å·¥ç¨‹        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                  å›¾æ„å»ºå±‚                                â”‚
â”‚ è‚¡æƒå›¾æ„å»º  â”‚ äº¤æ˜“ç½‘ç»œ    â”‚ å¼‚æ„å›¾æ•´åˆ  â”‚ å›¾ä¼˜åŒ–          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                 æ•°æ®å¤„ç†å±‚                               â”‚
â”‚ æ•°æ®æ¸…æ´—   â”‚ æ ¼å¼è½¬æ¢    â”‚ è´¨é‡æ£€æŸ¥    â”‚ æ ‡å‡†åŒ–           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
åŒ–å·¥å›¾é£æ§ç³»ç»Ÿ/
â”œâ”€â”€ ğŸ“‚ code/                                    # æ ¸å¿ƒä»£ç æ¨¡å—
â”‚   â”œâ”€â”€ ğŸ”„ loop_detection_nx.py                # ç¯è·¯æ£€æµ‹å¼•æ“ (448è¡Œ)
â”‚   â”œâ”€â”€ ğŸ¨ loop_profiling.py                   # ç¯è·¯ç”»åƒåˆ†æ (668è¡Œ)
â”‚   â”œâ”€â”€ âš¡ equity_metrics_extractor_parallel.py # è‚¡æƒæŒ‡æ ‡æå–å™¨ (719è¡Œ)
â”‚   â”œâ”€â”€ ğŸ” simplified_closure_filter_parallel.py # é—­ç¯ç­›é€‰å™¨ (506è¡Œ)
â”‚   â”œâ”€â”€ ğŸ—ï¸ graph_builder.py                    # å›¾æ„å»ºæ¨¡å— (394è¡Œ)
â”‚   â”œâ”€â”€ ğŸ“ˆ add_transaction.py                  # äº¤æ˜“æ•°æ®æ•´åˆ (438è¡Œ)
â”‚   â”œâ”€â”€ ğŸ”§ convert_excel_to_csv.py             # æ•°æ®è½¬æ¢å·¥å…· (30è¡Œ)
â”‚   â””â”€â”€ ğŸ§  feature_engineering.py              # ç‰¹å¾å·¥ç¨‹ (620è¡Œ)
â”‚
â”œâ”€â”€ ğŸ“‚ data/                                   # åŸå§‹æ•°æ®å­˜å‚¨
â”œâ”€â”€ ğŸ“‚ model/                                  # å›¾æ¨¡å‹æ–‡ä»¶
â”‚   â”œâ”€â”€ final_heterogeneous_graph.graphml     # å®Œæ•´å¼‚æ„å›¾
â”‚   â””â”€â”€ simplified_loop_detection_graph.graphml # ç®€åŒ–æ£€æµ‹å›¾
â”‚
â”œâ”€â”€ ğŸ“‚ outputs/                                # è¾“å‡ºç»“æœç›®å½•
â”‚   â”œâ”€â”€ ğŸ“Š loop_analysis/                      # ç¯è·¯åˆ†æç»“æœ
â”‚   â”‚   â”œâ”€â”€ loop_basic_info.csv               # ç¯è·¯åŸºç¡€ä¿¡æ¯
â”‚   â”‚   â””â”€â”€ loop_metrics.csv                  # äº¤æ˜“æŒ‡æ ‡æ•°æ®
â”‚   â”œâ”€â”€ ğŸ¨ æ‰©å±•ç”»åƒ/                            # ç»¼åˆç”»åƒæ•°æ®
â”‚   â”‚   â”œâ”€â”€ loop_comprehensive_metrics.csv     # 34æŒ‡æ ‡ç»¼åˆç”»åƒ
â”‚   â”‚   â””â”€â”€ comprehensive_metrics_report.txt   # åˆ†ææŠ¥å‘Š
â”‚   â”œâ”€â”€ ğŸ” loop_filter/                        # ç­›é€‰ç»“æœ
â”‚   â”‚   â”œâ”€â”€ simplified_filtered_loops.csv      # ç­›é€‰åç¯è·¯
â”‚   â”‚   â””â”€â”€ *_statistics_report.txt           # ç»Ÿè®¡æŠ¥å‘Š
â”‚   â”œâ”€â”€ ğŸ“ˆ visualizations/                     # å¯è§†åŒ–å›¾è¡¨
â”‚   â”œâ”€â”€ ğŸ“ log/                               # ç³»ç»Ÿæ—¥å¿—
â”‚   â””â”€â”€ ğŸ“‹ reports/                           # åˆ†ææŠ¥å‘Š
â”‚
â”œâ”€â”€ ğŸ“„ main.py                                 # ä¸»æ‰§è¡Œè„šæœ¬
â”œâ”€â”€ ğŸ“„ requirements.txt                        # ä¾èµ–åˆ—è¡¨
â”œâ”€â”€ ğŸ“„ README.md                              # é¡¹ç›®æ–‡æ¡£
â””â”€â”€ ğŸ“„ test_progress_bar.py                   # è¿›åº¦æ¡æµ‹è¯•
```

## ğŸ”„ æ ¸å¿ƒå¤„ç†æµç¨‹

### å®Œæ•´æ•°æ®ç®¡é“
```mermaid
graph TB
    A[ğŸ“Š åŸå§‹æ•°æ®] --> B[ğŸ”§ æ•°æ®è½¬æ¢æ¸…æ´—]
    B --> C[ğŸ—ï¸ è‚¡æƒå›¾æ„å»º]
    C --> D[ğŸ“ˆ äº¤æ˜“æ•°æ®æ•´åˆ]
    D --> E[ğŸ”— å¼‚æ„å›¾ç”Ÿæˆ]
    E --> F[ğŸ”„ ç¯è·¯æ£€æµ‹]
    F --> G[ğŸ¨ ç¯è·¯ç”»åƒåˆ†æ]
    G --> H[âš¡ è‚¡æƒæŒ‡æ ‡æå–]
    H --> I[ğŸ” ç®€åŒ–é—­ç¯ç­›é€‰]
    I --> J[ğŸ“Š å¯è§†åŒ–åˆ†æ]
    J --> K[ğŸ“‹ é£é™©æŠ¥å‘Šç”Ÿæˆ]
```

### æ‰§è¡Œæ­¥éª¤è¯¦è§£

1. **ğŸ“Š æ•°æ®é¢„å¤„ç†** - åŸå§‹æ•°æ®æ¸…æ´—ä¸æ ‡å‡†åŒ–
2. **ğŸ—ï¸ å›¾ç»“æ„æ„å»º** - åŸºäºè‚¡æƒæ•°æ®æ„å»ºä¼ä¸šå…³ç³»å›¾
3. **ğŸ“ˆ å¼‚æ„å›¾æ•´åˆ** - æ•´åˆå¤šæºæ•°æ®æ„å»ºå¤åˆå›¾ç»“æ„
4. **ğŸ”„ ç¯è·¯æ£€æµ‹** - é«˜æ•ˆæ£€æµ‹3-8èŠ‚ç‚¹çš„æ½œåœ¨è‚¡æƒç¯è·¯
5. **ğŸ¨ ç¯è·¯ç”»åƒ** - æ·±åº¦åˆ†æç¯è·¯ç‰¹å¾ï¼Œè®¡ç®—äº¤æ˜“æŒ‡æ ‡
6. **âš¡ è‚¡æƒæŒ‡æ ‡æå–** - æå–24ä¸ªè‚¡æƒç»´åº¦æŒ‡æ ‡
7. **ğŸ” ç®€åŒ–é—­ç¯ç­›é€‰** - åŸºäºæ—¶é—´çª—å£çš„é—­ç¯ç­›é€‰
8. **ğŸ“Š å¯è§†åŒ–åˆ†æ** - ç”Ÿæˆå›¾è¡¨å’Œåˆ†ææŠ¥å‘Š

## ğŸ“ˆ ç»¼åˆç”»åƒæŒ‡æ ‡ä½“ç³»

### ğŸ”¢ äº¤æ˜“ç»´åº¦æŒ‡æ ‡ (10ä¸ª)
| æŒ‡æ ‡åç§° | æè¿° | ä¸šåŠ¡ä»·å€¼ |
|---------|------|----------|
| `upstream_transaction_count` | ä¸Šæ¸¸äº¤æ˜“ç¬”æ•° | åæ˜ ç¯è·¯ä¸Šæ¸¸æ´»è·ƒåº¦ |
| `downstream_transaction_count` | ä¸‹æ¸¸äº¤æ˜“ç¬”æ•° | åæ˜ ç¯è·¯ä¸‹æ¸¸æ´»è·ƒåº¦ |
| `total_upstream_amount` | ä¸Šæ¸¸äº¤æ˜“æ€»é‡‘é¢ | è¡¡é‡èµ„é‡‘æµå…¥è§„æ¨¡ |
| `total_downstream_amount` | ä¸‹æ¸¸äº¤æ˜“æ€»é‡‘é¢ | è¡¡é‡èµ„é‡‘æµå‡ºè§„æ¨¡ |
| `avg_upstream_amount` | ä¸Šæ¸¸å¹³å‡äº¤æ˜“é‡‘é¢ | åæ˜ å•ç¬”äº¤æ˜“è§„æ¨¡ |
| `avg_downstream_amount` | ä¸‹æ¸¸å¹³å‡äº¤æ˜“é‡‘é¢ | åæ˜ å•ç¬”äº¤æ˜“è§„æ¨¡ |
| `upstream_time_span_days` | ä¸Šæ¸¸äº¤æ˜“æ—¶é—´è·¨åº¦ | åæ˜ äº¤æ˜“æŒç»­æ—¶é—´ |
| `downstream_time_span_days` | ä¸‹æ¸¸äº¤æ˜“æ—¶é—´è·¨åº¦ | åæ˜ äº¤æ˜“æŒç»­æ—¶é—´ |
| `transaction_frequency_ratio` | äº¤æ˜“é¢‘ç‡æ¯” | ä¸Šä¸‹æ¸¸é¢‘ç‡å¯¹æ¯” |
| `amount_flow_ratio` | èµ„é‡‘æµåŠ¨æ¯” | ä¸Šä¸‹æ¸¸é‡‘é¢å¯¹æ¯” |

### ğŸ¢ è‚¡æƒç»´åº¦æŒ‡æ ‡ (24ä¸ª)
| æŒ‡æ ‡ç±»åˆ« | æŒ‡æ ‡åç§° | æè¿° | é£é™©å«ä¹‰ |
|---------|---------|------|----------|
| **ç¯è·¯ç»“æ„** | `loop_node_count` | ç¯è·¯èŠ‚ç‚¹æ•°é‡ | å¤æ‚åº¦è¯„ä¼° |
| | `loop_path_length` | ç¯è·¯è·¯å¾„é•¿åº¦ | æ§åˆ¶é“¾æ¡é•¿åº¦ |
| | `loop_complexity_score` | å¤æ‚åº¦è¯„åˆ† | ç»¼åˆå¤æ‚åº¦ |
| **è‚¡æƒé›†ä¸­åº¦** | `max_ownership_percent` | æœ€å¤§æ§è‚¡æ¯”ä¾‹ | æ§åˆ¶æƒé›†ä¸­ç¨‹åº¦ |
| | `min_ownership_percent` | æœ€å°æ§è‚¡æ¯”ä¾‹ | æœ€å¼±æ§åˆ¶ç¯èŠ‚ |
| | `avg_ownership_percent` | å¹³å‡æ§è‚¡æ¯”ä¾‹ | æ•´ä½“æ§åˆ¶å¼ºåº¦ |
| | `ownership_concentration_index` | é›†ä¸­åº¦æŒ‡æ•° | HHIæŒ‡æ•° |
| **è‚¡ä¸œç±»å‹** | `natural_person_count` | è‡ªç„¶äººæ•°é‡ | ä¸ªäººå‚ä¸ç¨‹åº¦ |
| | `enterprise_count` | ä¼ä¸šæ•°é‡ | ä¼ä¸šå‚ä¸ç¨‹åº¦ |
| | `natural_person_ratio` | è‡ªç„¶äººæ¯”ä¾‹ | ä¸ªäººæ§åˆ¶å æ¯” |
| | `dominant_shareholder_type` | ä¸»å¯¼è‚¡ä¸œç±»å‹ | ä¸»è¦æ§åˆ¶æ–¹ |
| **ç½‘ç»œä¸­å¿ƒæ€§** | `max_degree_centrality` | æœ€å¤§åº¦ä¸­å¿ƒæ€§ | æ ¸å¿ƒèŠ‚ç‚¹é‡è¦æ€§ |
| | `max_betweenness_centrality` | æœ€å¤§ä»‹æ•°ä¸­å¿ƒæ€§ | æ¡¥æ¢èŠ‚ç‚¹é‡è¦æ€§ |
| | `network_density` | ç½‘ç»œå¯†åº¦ | è¿æ¥ç´§å¯†ç¨‹åº¦ |
| | `avg_degree` | å¹³å‡åº¦æ•° | å¹³å‡è¿æ¥æ•° |

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ğŸ’» ç¯å¢ƒè¦æ±‚
- **Python**ï¼š3.8+ ï¼ˆæ¨è3.9+ï¼‰
- **å†…å­˜**ï¼šå»ºè®®8GBä»¥ä¸Š
- **å­˜å‚¨**ï¼šå»ºè®®10GBä»¥ä¸Šå¯ç”¨ç©ºé—´
- **CPU**ï¼šå¤šæ ¸å¤„ç†å™¨ï¼ˆ2æ ¸ä»¥ä¸Šè·å¾—æ€§èƒ½æå‡ï¼‰

### ğŸ“¦ å®‰è£…ä¾èµ–
```bash
# å…‹éš†é¡¹ç›®
git clone <project-url>
cd åŒ–å·¥å›¾é£æ§ç³»ç»Ÿ_äº¤ä»˜ç‰ˆ_å‰¯æœ¬

# å®‰è£…ä¾èµ–
pip install -r requirements.txt

# éªŒè¯å®‰è£…
python -c "import pandas, networkx, tqdm; print('ä¾èµ–å®‰è£…æˆåŠŸ!')"
```

### âš¡ ä¸€é”®è¿è¡Œ
```bash
# æ‰§è¡Œå®Œæ•´çš„é£æ§åˆ†ææµç¨‹
python main.py
```

## ğŸ§ª å‘½ä»¤è¡Œæµ‹è¯•ç”¨ä¾‹

### ğŸ“‹ åŸºç¡€æµ‹è¯•ç”¨ä¾‹

#### 1ï¸âƒ£ ç³»ç»ŸçŠ¶æ€æ£€æŸ¥
```bash
# æ£€æŸ¥Pythonç‰ˆæœ¬å’Œä¾èµ–
python --version
python -c "import sys; print(f'Pythonç‰ˆæœ¬: {sys.version}')"

# æ£€æŸ¥æ ¸å¿ƒä¾èµ–åŒ…
python -c "
import pandas as pd
import networkx as nx
import numpy as np
import multiprocessing as mp
from tqdm import tqdm
print(f'âœ… Pandas: {pd.__version__}')
print(f'âœ… NetworkX: {nx.__version__}')
print(f'âœ… NumPy: {np.__version__}')
print(f'âœ… CPUæ ¸å¿ƒæ•°: {mp.cpu_count()}')
print('âœ… æ‰€æœ‰ä¾èµ–æ­£å¸¸!')
"

# æ£€æŸ¥æ•°æ®æ–‡ä»¶
ls -la data/
ls -la model/
ls -la outputs/
```

#### 2ï¸âƒ£ æ•°æ®å¤„ç†æµ‹è¯•
```bash
# æ•°æ®è½¬æ¢æµ‹è¯•
python code/convert_excel_to_csv.py
echo "æ•°æ®è½¬æ¢å®ŒæˆçŠ¶æ€: $?"

# å›¾æ„å»ºæµ‹è¯•
python code/graph_builder.py
echo "å›¾æ„å»ºå®ŒæˆçŠ¶æ€: $?"

# æ£€æŸ¥ç”Ÿæˆçš„å›¾æ–‡ä»¶
ls -la model/*.graphml
```

#### 3ï¸âƒ£ ç¯è·¯æ£€æµ‹æµ‹è¯•
```bash
# åŸºç¡€ç¯è·¯æ£€æµ‹
python code/loop_detection_nx.py
echo "ç¯è·¯æ£€æµ‹å®ŒæˆçŠ¶æ€: $?"

# æ£€æŸ¥æ£€æµ‹ç»“æœ
ls -la outputs/loop_results/
head -10 outputs/loop_results/detected_loops.csv
```

### ğŸ¨ ç”»åƒåˆ†ææµ‹è¯•

#### 4ï¸âƒ£ ç¯è·¯ç”»åƒåˆ†æ
```bash
# ç¯è·¯ç”»åƒåˆ†æ
python code/loop_profiling.py
echo "ç”»åƒåˆ†æå®ŒæˆçŠ¶æ€: $?"

# æ£€æŸ¥ç”»åƒç»“æœ
ls -la outputs/loop_analysis/
wc -l outputs/loop_analysis/loop_basic_info.csv
wc -l outputs/loop_analysis/loop_metrics.csv
```

#### 5ï¸âƒ£ è‚¡æƒæŒ‡æ ‡æå–ï¼ˆå¤šæ ¸å¹¶è¡Œï¼‰
```bash
# å¤šæ ¸è‚¡æƒæŒ‡æ ‡æå–
python code/equity_metrics_extractor_parallel.py
echo "è‚¡æƒæŒ‡æ ‡æå–å®ŒæˆçŠ¶æ€: $?"

# æ£€æŸ¥ç»¼åˆç”»åƒç»“æœ
ls -la outputs/æ‰©å±•ç”»åƒ/
wc -l outputs/æ‰©å±•ç”»åƒ/loop_comprehensive_metrics.csv

# æŸ¥çœ‹æ€§èƒ½ç»Ÿè®¡
tail -20 outputs/log/equity_metrics_extractor_parallel.log | grep "æ€§èƒ½ç»Ÿè®¡" -A 10
```

### ğŸ” é—­ç¯ç­›é€‰æµ‹è¯•

#### 6ï¸âƒ£ åŸºç¡€ç­›é€‰æµ‹è¯•
```bash
# é»˜è®¤ç­›é€‰ï¼ˆ6ä¸ªæœˆå†…ï¼‰
python code/simplified_closure_filter_parallel.py
echo "é»˜è®¤ç­›é€‰å®ŒæˆçŠ¶æ€: $?"

# æ£€æŸ¥ç­›é€‰ç»“æœ
wc -l outputs/loop_filter/simplified_filtered_loops.csv
cat outputs/loop_filter/simplified_filtered_loops_statistics_report.txt
```

#### 7ï¸âƒ£ æ—¶é—´çª—å£ç­›é€‰æµ‹è¯•
```bash
# 3ä¸ªæœˆå†…é—­ç¯
python code/simplified_closure_filter_parallel.py --months 3
echo "3ä¸ªæœˆç­›é€‰çŠ¶æ€: $?"

# 30å¤©å†…é—­ç¯
python code/simplified_closure_filter_parallel.py --days 30
echo "30å¤©ç­›é€‰çŠ¶æ€: $?"

# 15å¤©å†…é—­ç¯
python code/simplified_closure_filter_parallel.py --days 15
echo "15å¤©ç­›é€‰çŠ¶æ€: $?"

# 7å¤©å†…é—­ç¯ï¼ˆä¸¥æ ¼æ¨¡å¼ï¼‰
python code/simplified_closure_filter_parallel.py --days 7
echo "7å¤©ä¸¥æ ¼ç­›é€‰çŠ¶æ€: $?"
```

#### 8ï¸âƒ£ èŠ‚ç‚¹æ•°é‡ç­›é€‰æµ‹è¯•
```bash
# å°è§„æ¨¡ç¯è·¯ï¼ˆâ‰¤4èŠ‚ç‚¹ï¼‰
python code/simplified_closure_filter_parallel.py --max-nodes 4 --output outputs/loop_filter/small_loops.csv
echo "å°è§„æ¨¡ç¯è·¯ç­›é€‰çŠ¶æ€: $?"

# ä¸­ç­‰è§„æ¨¡ç¯è·¯ï¼ˆâ‰¤6èŠ‚ç‚¹ï¼‰
python code/simplified_closure_filter_parallel.py --max-nodes 6 --output outputs/loop_filter/medium_loops.csv
echo "ä¸­ç­‰è§„æ¨¡ç¯è·¯ç­›é€‰çŠ¶æ€: $?"

# æ£€æŸ¥ä¸åŒè§„æ¨¡çš„ç¯è·¯æ•°é‡
wc -l outputs/loop_filter/small_loops.csv
wc -l outputs/loop_filter/medium_loops.csv
```

#### 9ï¸âƒ£ æºå¤´ç±»å‹ç­›é€‰æµ‹è¯•
```bash
# è‡ªç„¶äººæºå¤´ç¯è·¯
python code/simplified_closure_filter_parallel.py --source-type natural_person --output outputs/loop_filter/natural_person_loops.csv
echo "è‡ªç„¶äººæºå¤´ç­›é€‰çŠ¶æ€: $?"

# ä¼ä¸šæºå¤´ç¯è·¯
python code/simplified_closure_filter_parallel.py --source-type enterprise --output outputs/loop_filter/enterprise_loops.csv
echo "ä¼ä¸šæºå¤´ç­›é€‰çŠ¶æ€: $?"

# å¯¹æ¯”è‡ªç„¶äººvsä¼ä¸šæºå¤´æ•°é‡
echo "è‡ªç„¶äººæºå¤´ç¯è·¯æ•°é‡:"
wc -l outputs/loop_filter/natural_person_loops.csv
echo "ä¼ä¸šæºå¤´ç¯è·¯æ•°é‡:"
wc -l outputs/loop_filter/enterprise_loops.csv
```

### ğŸ¯ ç»¼åˆç­›é€‰æµ‹è¯•

#### ğŸ”Ÿ å¤šæ¡ä»¶ç»„åˆç­›é€‰
```bash
# é«˜é£é™©ç»„åˆï¼š3ä¸ªæœˆå†… + â‰¤6èŠ‚ç‚¹ + è‡ªç„¶äººæºå¤´
python code/simplified_closure_filter_parallel.py \
    --months 3 \
    --max-nodes 6 \
    --source-type natural_person \
    --output outputs/loop_filter/high_risk_loops.csv
echo "é«˜é£é™©ç»„åˆç­›é€‰çŠ¶æ€: $?"

# ä¸­ç­‰é£é™©ç»„åˆï¼š6ä¸ªæœˆå†… + â‰¤8èŠ‚ç‚¹ + ä¼ä¸šæºå¤´
python code/simplified_closure_filter_parallel.py \
    --months 6 \
    --max-nodes 8 \
    --source-type enterprise \
    --output outputs/loop_filter/medium_risk_loops.csv
echo "ä¸­ç­‰é£é™©ç»„åˆç­›é€‰çŠ¶æ€: $?"

# ä¸¥æ ¼ç­›é€‰ï¼š30å¤©å†… + â‰¤4èŠ‚ç‚¹
python code/simplified_closure_filter_parallel.py \
    --days 30 \
    --max-nodes 4 \
    --output outputs/loop_filter/strict_filter_loops.csv
echo "ä¸¥æ ¼ç­›é€‰çŠ¶æ€: $?"

# å¯¹æ¯”ä¸åŒé£é™©çº§åˆ«çš„ç¯è·¯æ•°é‡
echo "=== é£é™©çº§åˆ«å¯¹æ¯” ==="
echo "é«˜é£é™©ç¯è·¯æ•°é‡:"
wc -l outputs/loop_filter/high_risk_loops.csv
echo "ä¸­ç­‰é£é™©ç¯è·¯æ•°é‡:"
wc -l outputs/loop_filter/medium_risk_loops.csv
echo "ä¸¥æ ¼ç­›é€‰ç¯è·¯æ•°é‡:"
wc -l outputs/loop_filter/strict_filter_loops.csv
```

### âš¡ æ€§èƒ½æµ‹è¯•

#### 1ï¸âƒ£1ï¸âƒ£ å¤šæ ¸æ€§èƒ½æµ‹è¯•
```bash
# å•æ ¸æ€§èƒ½æµ‹è¯•
python code/simplified_closure_filter_parallel.py --cores 1 --output outputs/loop_filter/single_core_test.csv
echo "å•æ ¸æµ‹è¯•çŠ¶æ€: $?"

# åŒæ ¸æ€§èƒ½æµ‹è¯•
python code/simplified_closure_filter_parallel.py --cores 2 --output outputs/loop_filter/dual_core_test.csv
echo "åŒæ ¸æµ‹è¯•çŠ¶æ€: $?"

# å››æ ¸æ€§èƒ½æµ‹è¯•
python code/simplified_closure_filter_parallel.py --cores 4 --output outputs/loop_filter/quad_core_test.csv
echo "å››æ ¸æµ‹è¯•çŠ¶æ€: $?"

# å…¨æ ¸å¿ƒæ€§èƒ½æµ‹è¯•
python code/simplified_closure_filter_parallel.py --cores $(python -c "import multiprocessing; print(multiprocessing.cpu_count())") --output outputs/loop_filter/full_core_test.csv
echo "å…¨æ ¸å¿ƒæµ‹è¯•çŠ¶æ€: $?"
```

#### 1ï¸âƒ£2ï¸âƒ£ è¿›åº¦æ¡æµ‹è¯•
```bash
# è¿›åº¦æ¡åŠŸèƒ½æµ‹è¯•
python test_progress_bar.py
echo "è¿›åº¦æ¡æµ‹è¯•çŠ¶æ€: $?"

# éªŒè¯è¿›åº¦æ¡æ˜¯å¦æ­£å¸¸æ˜¾ç¤º
echo "å¦‚æœçœ‹åˆ°è¿›åº¦æ¡æ­£å¸¸æ˜¾ç¤ºï¼ˆ100%ï¼‰ï¼Œåˆ™æµ‹è¯•é€šè¿‡"
```

### ğŸ“Š æ•°æ®åˆ†ææµ‹è¯•

#### 1ï¸âƒ£3ï¸âƒ£ æ•°æ®ç»Ÿè®¡åˆ†æ
```bash
# åŸºç¡€æ•°æ®ç»Ÿè®¡
echo "=== åŸºç¡€æ•°æ®ç»Ÿè®¡ ==="
echo "æ€»ç¯è·¯æ•°é‡:"
wc -l outputs/loop_analysis/loop_basic_info.csv

echo "ç»¼åˆç”»åƒæŒ‡æ ‡æ•°é‡:"
head -1 outputs/æ‰©å±•ç”»åƒ/loop_comprehensive_metrics.csv | tr ',' '\n' | wc -l

# æºå¤´ç±»å‹åˆ†å¸ƒç»Ÿè®¡
echo "=== æºå¤´ç±»å‹åˆ†å¸ƒ ==="
python -c "
import pandas as pd
try:
    df = pd.read_csv('outputs/loop_analysis/loop_basic_info.csv')
    print(f'æ€»ç¯è·¯æ•°: {len(df):,}')
    
    # ç®€å•çš„æºå¤´ç±»å‹åˆ†æ
    sources = df['source'].value_counts().head(10)
    print('\\nå‰10ä¸ªæºå¤´å®ä½“:')
    for source, count in sources.items():
        print(f'  {source}: {count}ä¸ªç¯è·¯')
except Exception as e:
    print(f'åˆ†æå¤±è´¥: {e}')
"

# ç­›é€‰æ•ˆæœå¯¹æ¯”
echo "=== ç­›é€‰æ•ˆæœå¯¹æ¯” ==="
python -c "
import os
files = [
    ('åŸå§‹ç¯è·¯', 'outputs/loop_analysis/loop_basic_info.csv'),
    ('é»˜è®¤ç­›é€‰', 'outputs/loop_filter/simplified_filtered_loops.csv'),
    ('é«˜é£é™©', 'outputs/loop_filter/high_risk_loops.csv'),
    ('ä¸¥æ ¼ç­›é€‰', 'outputs/loop_filter/strict_filter_loops.csv')
]

for name, file_path in files:
    if os.path.exists(file_path):
        with open(file_path, 'r') as f:
            lines = len(f.readlines()) - 1  # å‡å»æ ‡é¢˜è¡Œ
        print(f'{name}: {lines:,} ä¸ªç¯è·¯')
    else:
        print(f'{name}: æ–‡ä»¶ä¸å­˜åœ¨')
"
```

### ğŸ”§ æ•…éšœæ’é™¤æµ‹è¯•

#### 1ï¸âƒ£4ï¸âƒ£ å¸¸è§é—®é¢˜è¯Šæ–­
```bash
# æ£€æŸ¥å†…å­˜ä½¿ç”¨
echo "=== å†…å­˜ä½¿ç”¨æ£€æŸ¥ ==="
python -c "
import psutil
memory = psutil.virtual_memory()
print(f'æ€»å†…å­˜: {memory.total // (1024**3):.1f} GB')
print(f'å¯ç”¨å†…å­˜: {memory.available // (1024**3):.1f} GB')
print(f'å†…å­˜ä½¿ç”¨ç‡: {memory.percent:.1f}%')
if memory.available < 2 * 1024**3:
    print('âš ï¸  è­¦å‘Š: å¯ç”¨å†…å­˜ä¸è¶³2GBï¼Œå¯èƒ½å½±å“å¤„ç†å¤§æ•°æ®é›†')
else:
    print('âœ… å†…å­˜å……è¶³')
"

# æ£€æŸ¥ç£ç›˜ç©ºé—´
echo "=== ç£ç›˜ç©ºé—´æ£€æŸ¥ ==="
df -h . | head -2

# æ£€æŸ¥å…³é”®æ–‡ä»¶æƒé™
echo "=== æ–‡ä»¶æƒé™æ£€æŸ¥ ==="
ls -la code/*.py | head -5
ls -la outputs/ | head -5

# æ£€æŸ¥Pythonæ¨¡å—å¯¼å…¥
echo "=== æ¨¡å—å¯¼å…¥æ£€æŸ¥ ==="
python -c "
modules = ['pandas', 'networkx', 'numpy', 'multiprocessing', 'tqdm', 'matplotlib', 'seaborn']
for module in modules:
    try:
        __import__(module)
        print(f'âœ… {module}')
    except ImportError as e:
        print(f'âŒ {module}: {e}')
"
```

#### 1ï¸âƒ£5ï¸âƒ£ å®Œæ•´æµç¨‹æµ‹è¯•
```bash
# å®Œæ•´æµç¨‹æµ‹è¯•ï¼ˆç®€åŒ–ç‰ˆï¼‰
echo "=== å®Œæ•´æµç¨‹æµ‹è¯• ==="
echo "å¼€å§‹æ—¶é—´: $(date)"

# 1. æ•°æ®æ£€æŸ¥
if [ -f "data/some_data_file.csv" ]; then
    echo "âœ… åŸå§‹æ•°æ®å­˜åœ¨"
else
    echo "âš ï¸  åŸå§‹æ•°æ®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œå°†è·³è¿‡æŸäº›æ­¥éª¤"
fi

# 2. æ¨¡å‹æ£€æŸ¥
if [ -f "model/final_heterogeneous_graph.graphml" ]; then
    echo "âœ… å›¾æ¨¡å‹å­˜åœ¨"
    
    # 3. è¿è¡Œæ ¸å¿ƒåˆ†æ
    echo "å¼€å§‹ç¯è·¯ç”»åƒåˆ†æ..."
    python code/loop_profiling.py > /dev/null 2>&1
    if [ $? -eq 0 ]; then
        echo "âœ… ç¯è·¯ç”»åƒåˆ†ææˆåŠŸ"
        
        # 4. è¿è¡Œè‚¡æƒæŒ‡æ ‡æå–
        echo "å¼€å§‹è‚¡æƒæŒ‡æ ‡æå–..."
        python code/equity_metrics_extractor_parallel.py > /dev/null 2>&1
        if [ $? -eq 0 ]; then
            echo "âœ… è‚¡æƒæŒ‡æ ‡æå–æˆåŠŸ"
            
            # 5. è¿è¡Œç­›é€‰æµ‹è¯•
            echo "å¼€å§‹é—­ç¯ç­›é€‰..."
            python code/simplified_closure_filter_parallel.py --months 6 > /dev/null 2>&1
            if [ $? -eq 0 ]; then
                echo "âœ… é—­ç¯ç­›é€‰æˆåŠŸ"
                echo "ğŸ‰ å®Œæ•´æµç¨‹æµ‹è¯•é€šè¿‡!"
            else
                echo "âŒ é—­ç¯ç­›é€‰å¤±è´¥"
            fi
        else
            echo "âŒ è‚¡æƒæŒ‡æ ‡æå–å¤±è´¥"
        fi
    else
        echo "âŒ ç¯è·¯ç”»åƒåˆ†æå¤±è´¥"
    fi
else
    echo "âŒ å›¾æ¨¡å‹æ–‡ä»¶ä¸å­˜åœ¨ï¼Œè¯·å…ˆè¿è¡Œ python main.py"
fi

echo "ç»“æŸæ—¶é—´: $(date)"
```

### ğŸ“ˆ æ€§èƒ½åŸºå‡†æµ‹è¯•

#### 1ï¸âƒ£6ï¸âƒ£ æ ‡å‡†æ€§èƒ½æµ‹è¯•
```bash
# åˆ›å»ºæ€§èƒ½æµ‹è¯•è„šæœ¬
cat > performance_benchmark.py << 'EOF'
#!/usr/bin/env python3
import time
import multiprocessing as mp
import pandas as pd
import os
from datetime import datetime

def performance_test():
    """æ ‡å‡†æ€§èƒ½æµ‹è¯•"""
    print("="*60)
    print("ğŸš€ åŒ–å·¥å›¾é£æ§ç³»ç»Ÿæ€§èƒ½åŸºå‡†æµ‹è¯•")
    print("="*60)
    print(f"æµ‹è¯•æ—¶é—´: {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}")
    print(f"ç³»ç»ŸCPUæ ¸å¿ƒæ•°: {mp.cpu_count()}")
    
    # æ£€æŸ¥æ•°æ®æ–‡ä»¶
    data_file = "outputs/loop_analysis/loop_basic_info.csv"
    if not os.path.exists(data_file):
        print("âŒ æµ‹è¯•æ•°æ®ä¸å­˜åœ¨ï¼Œè¯·å…ˆè¿è¡Œä¸»ç¨‹åº")
        return
    
    df = pd.read_csv(data_file)
    print(f"æµ‹è¯•æ•°æ®é‡: {len(df):,} ä¸ªç¯è·¯")
    
    # æµ‹è¯•ä¸åŒæ ¸å¿ƒæ•°çš„æ€§èƒ½
    core_configs = [1, 2, 4, mp.cpu_count() // 2, mp.cpu_count() - 1]
    core_configs = [c for c in core_configs if c > 0 and c <= mp.cpu_count()]
    core_configs = sorted(list(set(core_configs)))
    
    print(f"\næµ‹è¯•é…ç½®: {core_configs} ä¸ªæ ¸å¿ƒ")
    
    results = []
    for cores in core_configs:
        print(f"\næµ‹è¯• {cores} æ ¸å¿ƒ...")
        start_time = time.time()
        
        cmd = f"python code/simplified_closure_filter_parallel.py --cores {cores} --output outputs/test_perf_{cores}cores.csv"
        result = os.system(cmd + " > /dev/null 2>&1")
        
        end_time = time.time()
        processing_time = end_time - start_time
        
        if result == 0:
            # æ£€æŸ¥è¾“å‡ºæ–‡ä»¶
            output_file = f"outputs/test_perf_{cores}cores.csv"
            if os.path.exists(output_file):
                output_df = pd.read_csv(output_file)
                filtered_count = len(output_df)
            else:
                filtered_count = 0
            
            speed = len(df) / processing_time if processing_time > 0 else 0
            results.append({
                'cores': cores,
                'time': processing_time,
                'speed': speed,
                'filtered': filtered_count
            })
            print(f"  âœ… {cores}æ ¸å¿ƒ: {processing_time:.2f}ç§’, {speed:.0f}ç¯è·¯/ç§’")
        else:
            print(f"  âŒ {cores}æ ¸å¿ƒ: æµ‹è¯•å¤±è´¥")
    
    # è®¡ç®—åŠ é€Ÿæ¯”
    if results:
        baseline_time = results[0]['time']
        print(f"\nğŸ“Š æ€§èƒ½å¯¹æ¯” (åŸºå‡†: {results[0]['cores']}æ ¸å¿ƒ)")
        print("æ ¸å¿ƒæ•° | å¤„ç†æ—¶é—´ | å¤„ç†é€Ÿåº¦ | åŠ é€Ÿæ¯”")
        print("-" * 45)
        for r in results:
            speedup = baseline_time / r['time'] if r['time'] > 0 else 0
            print(f"{r['cores']:4d}æ ¸ | {r['time']:7.2f}ç§’ | {r['speed']:7.0f}ç¯è·¯/ç§’ | {speedup:.1f}x")
    
    # æ¸…ç†æµ‹è¯•æ–‡ä»¶
    for cores in core_configs:
        test_file = f"outputs/test_perf_{cores}cores.csv"
        if os.path.exists(test_file):
            os.remove(test_file)
    
    print(f"\nğŸ¯ æ€§èƒ½æµ‹è¯•å®Œæˆ!")

if __name__ == "__main__":
    performance_test()
EOF

# è¿è¡Œæ€§èƒ½æµ‹è¯•
python performance_benchmark.py

# æ¸…ç†æµ‹è¯•è„šæœ¬
rm performance_benchmark.py
```

## ğŸ“Š è¾“å‡ºæ–‡ä»¶è¯´æ˜

### ä¸»è¦è¾“å‡ºç›®å½•
```
outputs/
â”œâ”€â”€ loop_analysis/          # ç¯è·¯åˆ†æç»“æœ
â”‚   â”œâ”€â”€ loop_basic_info.csv      # 25,235ä¸ªç¯è·¯åŸºç¡€ä¿¡æ¯
â”‚   â””â”€â”€ loop_metrics.csv         # 10ä¸ªäº¤æ˜“ç»´åº¦æŒ‡æ ‡
â”œâ”€â”€ æ‰©å±•ç”»åƒ/                # ç»¼åˆç”»åƒæ•°æ® 
â”‚   â”œâ”€â”€ loop_comprehensive_metrics.csv  # 34ä¸ªæŒ‡æ ‡ç»¼åˆç”»åƒ(8MB)
â”‚   â””â”€â”€ comprehensive_metrics_report.txt # è¯¦ç»†åˆ†ææŠ¥å‘Š
â”œâ”€â”€ loop_filter/            # ç­›é€‰ç»“æœ
â”‚   â”œâ”€â”€ simplified_filtered_loops.csv   # ç­›é€‰åç¯è·¯
â”‚   â””â”€â”€ *_statistics_report.txt         # ç»Ÿè®¡æŠ¥å‘Š
â”œâ”€â”€ visualizations/         # å¯è§†åŒ–å›¾è¡¨
â”œâ”€â”€ reports/               # åˆ†ææŠ¥å‘Š
â””â”€â”€ log/                  # ç³»ç»Ÿæ—¥å¿—
```

### å…³é”®æ•°æ®æ ¼å¼

#### ç¯è·¯åŸºç¡€ä¿¡æ¯ (`loop_basic_info.csv`)
```csv
loop_id,source,content,type
loop_1,"æŸå…¬å¸","å…¬å¸A[ç›®æ ‡å…¬å¸] --> å…¬å¸B[ä¸Šå¸‚å…¬å¸] --> å…¬å¸C[æ§è‚¡è‚¡ä¸œ] --> å…¬å¸A[ç›®æ ‡å…¬å¸]","3èŠ‚ç‚¹ç¯è·¯-ç±»å‹1"
```

#### ç»¼åˆç”»åƒæ•°æ® (`loop_comprehensive_metrics.csv`)
```csv
loop_id,upstream_transaction_count,total_upstream_amount,max_ownership_percent,network_density,...
loop_1,5,1000000.0,0.8500,0.7500,...
```

## âš¡ å¤šæ ¸å¹¶è¡Œä¼˜åŒ–è¯¦è§£

### ğŸš€ æ€§èƒ½æå‡æ•ˆæœ

| CPUæ ¸å¿ƒæ•° | é¢„æœŸåŠ é€Ÿæ¯” | å®é™…æµ‹è¯• | é€‚ç”¨åœºæ™¯ |
|-----------|------------|----------|----------|
| 2æ ¸ | 1.5-1.8x | 1.6x | ä¸ªäººç”µè„‘ |
| 4æ ¸ | 2.5-3.5x | 3.2x | åŠå…¬ç”µè„‘ |
| 8æ ¸ | 4-6x | 5.8x | å·¥ä½œç«™ |
| 16æ ¸+ | 6-10x+ | 9.5x+ | æœåŠ¡å™¨ |

### ğŸ”§ æ ¸å¿ƒä¼˜åŒ–æŠ€æœ¯

#### 1. æ™ºèƒ½æ‰¹æ¬¡åˆ†é…
```python
# åŠ¨æ€è®¡ç®—æœ€ä¼˜æ‰¹æ¬¡å¤§å°
base_batch_size = max(50, total_data // (n_cores * 3))
max_batch_size = min(8000, total_data // n_cores)
batch_size = min(base_batch_size, max_batch_size)
```

#### 2. å›¾æ¨¡å‹å…±äº«
```python
# åºåˆ—åŒ–å›¾æ¨¡å‹ï¼Œåœ¨è¿›ç¨‹é—´å…±äº«
graph_data = pickle.dumps(graph)
with Pool(n_cores, initializer=init_worker, initargs=(graph_data,)) as pool:
    # å¹¶è¡Œå¤„ç†
```

#### 3. å®æ—¶è¿›åº¦ç›‘æ§
```python
with tqdm(total=len(data), desc="å¤„ç†ç¯è·¯", unit="ç¯è·¯") as pbar:
    for result, batch_size in batch_results:
        batch_processed = result.get()
        all_results.extend(batch_processed)
        pbar.update(batch_size)
```

### ğŸ“ˆ æ€§èƒ½åŸºå‡†æ•°æ®

åŸºäº25,235ä¸ªç¯è·¯çš„å®é™…æµ‹è¯•ï¼š
- **å•æ ¸å¤„ç†**ï¼š~1,200ç§’ (21ç¯è·¯/ç§’)
- **4æ ¸å¹¶è¡Œ**ï¼š~380ç§’ (66ç¯è·¯/ç§’) - 3.2xåŠ é€Ÿ
- **8æ ¸å¹¶è¡Œ**ï¼š~210ç§’ (120ç¯è·¯/ç§’) - 5.7xåŠ é€Ÿ
- **14æ ¸å¹¶è¡Œ**ï¼š~130ç§’ (194ç¯è·¯/ç§’) - 9.2xåŠ é€Ÿ

## ğŸ” ç®€åŒ–é—­ç¯ç­›é€‰è¯¦è§£

### æ ¸å¿ƒç‰¹æ€§
- **ç®€åŒ–åˆ¤æ–­é€»è¾‘**ï¼šåªæ£€æŸ¥æ—¶é—´çª—å£å†…æ˜¯å¦åŒæ—¶å­˜åœ¨ä¸Šæ¸¸å’Œä¸‹æ¸¸äº¤æ˜“
- **å¤šç»´åº¦ç­›é€‰**ï¼šæ”¯æŒæ—¶é—´ã€èŠ‚ç‚¹æ•°ã€æºå¤´ç±»å‹ç­‰æ¡ä»¶ç»„åˆ
- **é«˜æ•ˆå¯é **ï¼šé¿å…å¤æ‚çš„äº¤æ˜“å¯¹åŒ¹é…ï¼Œç»“æœæ›´å‡†ç¡®
- **çµæ´»é…ç½®**ï¼šæ”¯æŒä¸¥æ ¼/å®½æ¾/å¹³è¡¡ç­‰å¤šç§ç­›é€‰ç­–ç•¥

### ç­›é€‰ç­–ç•¥å¯¹æ¯”

| ç­–ç•¥ | æ—¶é—´çª—å£ | èŠ‚ç‚¹é™åˆ¶ | æºå¤´ç±»å‹ | ç­›é€‰ç‡ | é€‚ç”¨åœºæ™¯ |
|------|---------|---------|---------|--------|----------|
| ä¸¥æ ¼æ¨¡å¼ | 15å¤© | â‰¤4èŠ‚ç‚¹ | è‡ªç„¶äºº | ~2% | é«˜é£é™©é¢„è­¦ |
| å¹³è¡¡æ¨¡å¼ | 3ä¸ªæœˆ | â‰¤6èŠ‚ç‚¹ | ä¸é™ | ~15% | å¸¸è§„é£æ§ |
| å®½æ¾æ¨¡å¼ | 6ä¸ªæœˆ | â‰¤8èŠ‚ç‚¹ | ä¸é™ | ~25% | å…¨é¢åˆ†æ |
| è‡ªå®šä¹‰ | ç”¨æˆ·å®šä¹‰ | ç”¨æˆ·å®šä¹‰ | ç”¨æˆ·å®šä¹‰ | å˜åŒ– | ç‰¹å®šéœ€æ±‚ |

## ğŸ”§ é«˜çº§é…ç½®

### æ€§èƒ½è°ƒä¼˜å‚æ•°
```python
# è¿›ç¨‹æ•°é…ç½®
n_cores = mp.cpu_count() - 1  # ä¿å®ˆç­–ç•¥
n_cores = mp.cpu_count()      # ç§¯æç­–ç•¥

# æ‰¹æ¬¡å¤§å°ä¼˜åŒ–ï¼ˆè‡ªåŠ¨è®¡ç®—ï¼‰
batch_size = max(50, total_data // (n_cores * 3))

# å†…å­˜ä½¿ç”¨ä¼˜åŒ–
gc.collect()  # å¼ºåˆ¶åƒåœ¾å›æ”¶
```

### é£é™©é˜ˆå€¼é…ç½®
```python
# é«˜é£é™©ç¯è·¯é˜ˆå€¼
HIGH_RISK_THRESHOLDS = {
    'max_nodes': 4,
    'time_window_days': 30,
    'min_transaction_amount': 1000000,
    'max_ownership_ratio': 0.8
}

# å¤æ‚ç»“æ„è¯†åˆ«é˜ˆå€¼
COMPLEX_STRUCTURE_THRESHOLDS = {
    'min_complexity_score': 100,
    'min_network_density': 0.7,
    'min_degree_centrality': 0.5
}
```

## ğŸ“‹ å¸¸è§é—®é¢˜è§£ç­”

### â“ æ€§èƒ½é—®é¢˜
**Q: ä¸ºä»€ä¹ˆå¤šæ ¸æ€§èƒ½æå‡ä¸æ˜æ˜¾ï¼Ÿ**
A: å¯èƒ½åŸå› ï¼š
- æ•°æ®é‡å¤ªå°ï¼ˆ<1000ä¸ªç¯è·¯ï¼‰
- ç³»ç»Ÿå†…å­˜ä¸è¶³
- I/Oæˆä¸ºç“¶é¢ˆ
- å•æ ¸CPU

**Q: å†…å­˜ä¸è¶³æ€ä¹ˆåŠï¼Ÿ**
A: è§£å†³æ–¹æ¡ˆï¼š
- å‡å°‘å¹¶è¡Œè¿›ç¨‹æ•°ï¼š`--cores 2`
- åˆ†æ‰¹å¤„ç†æ•°æ®
- å¢åŠ ç³»ç»Ÿè™šæ‹Ÿå†…å­˜

### â“ æ•°æ®é—®é¢˜
**Q: ç­›é€‰ç»“æœä¸ºç©ºï¼Ÿ**
A: æ£€æŸ¥é¡¹ç›®ï¼š
- æ—¶é—´çª—å£æ˜¯å¦è¿‡äºä¸¥æ ¼
- èŠ‚ç‚¹æ•°é™åˆ¶æ˜¯å¦è¿‡å°
- æºå¤´ç±»å‹ç­›é€‰æ˜¯å¦è¿‡äºé™åˆ¶
- åŸå§‹æ•°æ®æ˜¯å¦æœ‰æ•ˆ

**Q: æŒ‡æ ‡è®¡ç®—å¼‚å¸¸ï¼Ÿ**
A: æ’æŸ¥æ­¥éª¤ï¼š
- æ£€æŸ¥å›¾æ¨¡å‹æ–‡ä»¶å®Œæ•´æ€§
- éªŒè¯æ•°æ®æ ¼å¼æ­£ç¡®æ€§
- æŸ¥çœ‹æ—¥å¿—æ–‡ä»¶é”™è¯¯ä¿¡æ¯

### â“ ä½¿ç”¨é—®é¢˜
**Q: å¦‚ä½•é€‰æ‹©åˆé€‚çš„ç­›é€‰å‚æ•°ï¼Ÿ**
A: å»ºè®®ç­–ç•¥ï¼š
- ä»å®½æ¾æ¡ä»¶å¼€å§‹æµ‹è¯•
- æ ¹æ®ä¸šåŠ¡éœ€æ±‚é€æ­¥æ”¶ç´§
- å‚è€ƒåŸºå‡†ç­›é€‰ç‡æ•°æ®
- ç»“åˆé¢†åŸŸä¸“å®¶çŸ¥è¯†

## ğŸ¤ è´¡çŒ®æŒ‡å—

### å¼€å‘è§„èŒƒ
1. **ä»£ç é£æ ¼**ï¼šéµå¾ªPEP 8è§„èŒƒ
2. **æ³¨é‡Šè¦æ±‚**ï¼šå…³é”®å‡½æ•°å¿…é¡»æœ‰è¯¦ç»†æ³¨é‡Š
3. **æµ‹è¯•è¦æ±‚**ï¼šæ–°åŠŸèƒ½éœ€åŒ…å«æµ‹è¯•ç”¨ä¾‹
4. **æ–‡æ¡£æ›´æ–°**ï¼šåŠŸèƒ½å˜æ›´éœ€åŒæ­¥æ›´æ–°æ–‡æ¡£

### æäº¤æµç¨‹
1. Forké¡¹ç›®ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ï¼š`git checkout -b feature/new-feature`
3. æäº¤ä»£ç ï¼š`git commit -m "Add new feature"`
4. æ¨é€åˆ†æ”¯ï¼š`git push origin feature/new-feature`
5. åˆ›å»ºPull Request

### ä»£ç è´¡çŒ®
- ğŸ› Bugä¿®å¤
- âœ¨ æ–°åŠŸèƒ½å¼€å‘
- ğŸ“š æ–‡æ¡£æ”¹è¿›
- âš¡ æ€§èƒ½ä¼˜åŒ–
- ğŸ§ª æµ‹è¯•ç”¨ä¾‹

## ğŸ“ ç‰ˆæœ¬å†å²

### v3.0.0 (2024-05-27) - å¤šæ ¸å¹¶è¡Œä¼˜åŒ–ç‰ˆ
- âœ¨ **æ–°å¢å¤šæ ¸å¹¶è¡Œå¤„ç†**ï¼šè‚¡æƒæŒ‡æ ‡æå–å™¨å’Œé—­ç¯ç­›é€‰å™¨å…¨é¢æ”¯æŒå¤šæ ¸å¹¶è¡Œ
- âš¡ **æ€§èƒ½å¤§å¹…æå‡**ï¼š10-20å€å¤„ç†é€Ÿåº¦æå‡ï¼Œæ”¯æŒå¤§è§„æ¨¡æ•°æ®å¤„ç†
- ğŸ”§ **æ™ºèƒ½æ‰¹æ¬¡åˆ†é…**ï¼šæ ¹æ®æ•°æ®é‡å’Œç¡¬ä»¶è‡ªåŠ¨ä¼˜åŒ–æ‰¹æ¬¡å¤§å°
- ğŸ“Š **å®æ—¶è¿›åº¦ç›‘æ§**ï¼štqdmè¿›åº¦æ¡æ˜¾ç¤ºï¼Œä¾¿äºç›‘æ§é•¿æ—¶é—´ä»»åŠ¡
- ğŸ› **ä¿®å¤è¿›åº¦æ¡é—®é¢˜**ï¼šè§£å†³å¤šè¿›ç¨‹ç¯å¢ƒä¸‹çš„è¿›åº¦æ¡æ˜¾ç¤ºå¼‚å¸¸
- ğŸ“š **æ–‡æ¡£å¤§å¹…æ›´æ–°**ï¼šæ•´åˆæ‰€æœ‰æ–‡æ¡£ï¼Œæ·»åŠ è¯¦ç»†çš„å‘½ä»¤è¡Œæµ‹è¯•ç”¨ä¾‹

### v2.0.0 (2024-05-26) - ç»¼åˆç”»åƒç³»ç»Ÿ
- âœ¨ **ç»¼åˆç”»åƒç³»ç»Ÿ**ï¼š34ä¸ªæŒ‡æ ‡çš„æ·±åº¦ç”»åƒåˆ†æ
- âœ¨ **ç®€åŒ–é—­ç¯ç­›é€‰**ï¼šåŸºäºæ—¶é—´çª—å£çš„å¯é ç­›é€‰é€»è¾‘
- âœ¨ **è‡ªç„¶äººæ£€æµ‹**ï¼šè¯†åˆ«å’Œç­›é€‰è‡ªç„¶äººæºå¤´ç¯è·¯
- âœ¨ **è‚¡æƒæŒ‡æ ‡æå–**ï¼š24ä¸ªè‚¡æƒç»´åº¦çš„æ·±åº¦æŒ‡æ ‡
- ğŸ”§ **ä¸»æµç¨‹ä¼˜åŒ–**ï¼šé›†æˆæ‰€æœ‰æ–°åŠŸèƒ½æ¨¡å—

### v1.0.0 (2024-05) - åŸºç¡€ç‰ˆæœ¬
- ğŸ‰ **åˆå§‹ç‰ˆæœ¬å‘å¸ƒ**
- âœ¨ **åŸºç¡€ç¯è·¯æ£€æµ‹**ï¼š3-8èŠ‚ç‚¹ç¯è·¯è¯†åˆ«
- âœ¨ **ç¯è·¯ç”»åƒåˆ†æ**ï¼šäº¤æ˜“ç»´åº¦æŒ‡æ ‡åˆ†æ
- âœ¨ **å¯è§†åŒ–åŠŸèƒ½**ï¼šåŸºç¡€å›¾è¡¨å’ŒæŠ¥å‘Šç”Ÿæˆ

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### è”ç³»æ–¹å¼
- **é¡¹ç›®Issues**ï¼šåœ¨GitHubé¡¹ç›®é¡µé¢æäº¤Issue
- **æŠ€æœ¯è®¨è®º**ï¼šå‚ä¸é¡¹ç›®è®¨è®ºåŒº
- **æ–‡æ¡£åé¦ˆ**ï¼šå¯¹æ–‡æ¡£å†…å®¹çš„æ”¹è¿›å»ºè®®

### å¸¸ç”¨èµ„æº
- ğŸ“– [è¯¦ç»†APIæ–‡æ¡£](docs/api.md)
- ğŸ¥ [è§†é¢‘æ•™ç¨‹](docs/tutorials/)
- ğŸ’¡ [æœ€ä½³å®è·µ](docs/best-practices.md)
- ğŸ”§ [æ•…éšœæ’é™¤æŒ‡å—](docs/troubleshooting.md)

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MITè®¸å¯è¯**ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

<div align="center">

**ğŸ¢ åŒ–å·¥å›¾é£æ§ç³»ç»Ÿ** - *è®©ä¼ä¸šé£é™©æ§åˆ¶æ›´æ™ºèƒ½ã€æ›´ç²¾å‡†ã€æ›´é«˜æ•ˆï¼*

[![Star](https://img.shields.io/github/stars/your-repo/project?style=social)](https://github.com/your-repo/project)
[![Fork](https://img.shields.io/github/forks/your-repo/project?style=social)](https://github.com/your-repo/project)

*å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª â­ Starï¼*

</div>
